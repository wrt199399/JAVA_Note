# 一、网络协议原理

## 1 引出

为何需要高并发？营销带来的大安装量

通过日志分析渠道流量，转化率，购买力，进而精准投放营销广告

中国在向服务行业转型

什么是网络协议模型？为什么分层？

OSI参考模型，软件工程中的学问：分层解耦。

## 2 五层模型

在TCP协议的应用中暂且分为5层

1.应用层协议：http,  SSH , 

​	什么是http协议 

​	建立连接，传送数据

​	建立连接的过程是应用程序通过调用操作系统内核去申请建立socket连接，这个步骤是下面四层流程完成的。

2.传输控制层

​	传输控制层有哪些协议？TCP，UDP

​	TCP？面向连接的可靠的传输方式

​	什么叫面向连接？三次握手，四次分手

​	为什么需要三次握手？1.发送请求，2.对方回发确认收到请求，3.我方再回发确认收到

​	三次握手之后才会开辟资源，拿到 IO ，才会发送数据。

​	为什么需要四次分手？资源回收，端口号有限，不能一直占着

​	为什么四次？1.发送请求分开，2.对方回发确认，3.对方发送请求分开，4.回复确认

​	三次握手 - 传输数据 - 四次分手  成为一个最小粒度，不可被分割

3.网络层

​	IP	掩码	网关	DNS

​	IP地址和网关进行按位与运算得出当前机器所在的网络段号

​	下一跳机制：每一个互联网设备不需要存全网设备的地址，只需要存下一跳的地址

​	路由表 route-n 做路由判定 ：目标地址转化成IP与	Linux 的路由表做匹配 ，最终匹配到网卡中的默认网关

​	那目标地址怎么找？交给链路层

4.链路层



结论：TCP/IP协议是基于下一跳的机制，IP是端点间，MAC地址是网络节点之间

​	



